<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
        index = 1;
        $(function (){

            $('#add').click(function (){
                if(index>=5){
                    alert('첨부 파일은 5개까지입니다')
                    return;
                }
                index++;

                div = $('<div>').attr('id','div'+index);
                span = $('<span>').html('첨부파일 : '+index);
                input = $('<input>').attr('type','file').attr('name','file'+index).attr('id','file'+index);
                input2 = $('<input>').attr('type','button').attr('value','삭제').addClass('del')
                div.append(span).append(input).append(input2);
                $('#container').append(div);
            })

            //$(document).on('이벤트','선택자',function(){})
            $(document).on('click','.del',function(){
                $(this).parent().remove();
                index--;
            })

            $('#removeAll').click(function (){
                $('#container').find('.del').parent().remove();
                index = 1;
            })
        })
    </script>
</head>
<body>
<div id="container">
    <h1>첨부 파일</h1>
    <div id="div1">
        <input type="file" name="file1" id="file1">
        <input type="button" id="add" value="추가">
        <input type="button" id="removeAll" value="전체 삭제">
    </div>
</div>
</body>
</html>